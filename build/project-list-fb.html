<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/firebase-element/firebase-element.html">
<link rel="import" href="bower_components/font-roboto/roboto.html">

<polymer-element name="project-list-fb" attributes="data">
  <template>
    <style>
      core-toolbar {
        margin-bottom: 15px;
        background-color: #03A9F4;
        color: white;
      }
      .card {
        font-family: "RobotoDraft", sans-serif;
        border: 1px solid #000;
        padding: 16px;
        margin: 16px;
        border-radius: 10px;
      }
      .project-notes {
        margin-bottom: 2.5em;
      }
      .form {
        width: 600px;
      }
    </style>
    <template repeat="{{project, i in data}}">
      <div class="card">
        <core-toolbar>
          <h3 flex three>{{project.name}}</h3>
          <core-icon 
                     class="project-edit" 
                     icon="editor:mode-edit" 
                     alt="Edit Project" on-tap="{{handleEdit}}">
          </core-icon>
        </core-toolbar>

        <div class="project-description">
          {{project.description}}
        </div>

        <h3>Project Status</h3>

        <ul>
          <li>Type: {{project.type}}</li>
          <li>Stage: {{project.stage}}</li>
        </ul>

        <h3>Relevant Links</h3>
        <ul>
          <li>Writeup: <a href="{{project.url.writeup}}">{{project.url.writeup}}</a>
          </li>
          <li>Code: <a href="{{project.url.code}}">{{project.url.code}}</a>
          </li>
          <li>Other: <a href="{{project.url.other}}">{{project.url.other}}</a>
          </li>
        </ul>

        <h3>Project Notes</h3>

        <div class="project-notes">
          {{project.notes}}
        </div>
        <!-- closes project-notes-->
    </template>
    </div>
    <!-- closes card div -->
  </template>
  <script>
    Polymer({
      // Trying to get this to fire up an event up the chain
      // it's not finding the event object.
      handleEdit: function (evt) {
        var idx = evt.target.templateInstance.model.i;
        this.fire('edit-project', {
          projectId: idx
        });
      }
    });
  </script>
</polymer-element>


